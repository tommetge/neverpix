// jQuery Mustache Plug-In
// Based on https://github.com/thinkdevcode/jQuery-Mustache, with improvements
// Original code is copyright (c) 2011 Eugene Alfonso, Licensed under the MIT license.
(function($){$.mustache=function(c,b,a){a&&$.map(a,function(a){return a.jquery?a.eq(0).html():a});return Mustache.render(c,b,a)};$.fn.mustache=function(c,b){b&&$.map(b,function(a){return a.jquery?a.eq(0).html():a});return $(this).map(function(a,e){var d=$.trim($(e).html()),d=$.mustache(d,c,b);return $(d).get()})}})(jQuery);

// jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010
// http://benalman.com/
// Copyright (c) 2010 Ben Alman; Licensed MIT, GPL
(function($,r){var h,n=Array.prototype.slice,t=decodeURIComponent,a=$.param,j,c,m,y,b=$.bbq=$.bbq||{},s,x,k,e=$.event.special,d="hashchange",B="querystring",F="fragment",z="elemUrlAttr",l="href",w="src",p=/^.*\?|#.*$/g,u,H,g,i,C,E={};function G(I){return typeof I==="string"}function D(J){var I=n.call(arguments,1);return function(){return J.apply(this,I.concat(n.call(arguments)))}}function o(I){return I.replace(H,"$2")}function q(I){return I.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(K,P,I,L,J){var R,O,N,Q,M;if(L!==h){N=I.match(K?H:/^([^#?]*)\??([^#]*)(#?.*)/);M=N[3]||"";if(J===2&&G(L)){O=L.replace(K?u:p,"")}else{Q=m(N[2]);L=G(L)?m[K?F:B](L):L;O=J===2?L:J===1?$.extend({},L,Q):$.extend({},Q,L);O=j(O);if(K){O=O.replace(g,t)}}R=N[1]+(K?C:O||!N[1]?"?":"")+O+M}else{R=P(I!==h?I:location.href)}return R}a[B]=D(f,0,q);a[F]=c=D(f,1,o);a.sorted=j=function(J,K){var I=[],L={};$.each(a(J,K).split("&"),function(P,M){var O=M.replace(/(?:%5B|=).*$/,""),N=L[O];if(!N){N=L[O]=[];I.push(O)}N.push(M)});return $.map(I.sort(),function(M){return L[M]}).join("&")};c.noEscape=function(J){J=J||"";var I=$.map(J.split(""),encodeURIComponent);g=new RegExp(I.join("|"),"g")};c.noEscape(",/");c.ajaxCrawlable=function(I){if(I!==h){if(I){u=/^.*(?:#!|#)/;H=/^([^#]*)(?:#!|#)?(.*)$/;C="#!"}else{u=/^.*#/;H=/^([^#]*)#?(.*)$/;C="#"}i=!!I}return i};c.ajaxCrawlable(0);$.deparam=m=function(L,I){var K={},J={"true":!0,"false":!1,"null":null};$.each(L.replace(/\+/g," ").split("&"),function(O,T){var N=T.split("="),S=t(N[0]),M,R=K,P=0,U=S.split("]["),Q=U.length-1;if(/\[/.test(U[0])&&/\]$/.test(U[Q])){U[Q]=U[Q].replace(/\]$/,"");U=U.shift().split("[").concat(U);Q=U.length-1}else{Q=0}if(N.length===2){M=t(N[1]);if(I){M=M&&!isNaN(M)?+M:M==="undefined"?h:J[M]!==h?J[M]:M}if(Q){for(;P<=Q;P++){S=U[P]===""?R.length:U[P];R=R[S]=P<Q?R[S]||(U[P+1]&&isNaN(U[P+1])?{}:[]):M}}else{if($.isArray(K[S])){K[S].push(M)}else{if(K[S]!==h){K[S]=[K[S],M]}else{K[S]=M}}}}else{if(S){K[S]=I?h:""}}});return K};function A(K,I,J){if(I===h||typeof I==="boolean"){J=I;I=a[K?F:B]()}else{I=G(I)?I.replace(K?u:p,""):I}return m(I,J)}m[B]=D(A,0);m[F]=y=D(A,1);$[z]||($[z]=function(I){return $.extend(E,I)})({a:l,base:l,iframe:w,img:w,input:w,form:"action",link:l,script:w});k=$[z];function v(L,J,K,I){if(!G(K)&&typeof K!=="object"){I=K;K=J;J=h}return this.each(function(){var O=$(this),M=J||k()[(this.nodeName||"").toLowerCase()]||"",N=M&&O.attr(M)||"";O.attr(M,a[L](N,K,I))})}$.fn[B]=D(v,B);$.fn[F]=D(v,F);b.pushState=s=function(L,I){if(G(L)&&/^#/.test(L)&&I===h){I=2}var K=L!==h,J=c(location.href,K?L:{},K?I:2);location.href=J};b.getState=x=function(I,J){return I===h||typeof I==="boolean"?y(I):y(J)[I]};b.removeState=function(I){var J={};if(I!==h){J=x();$.each($.isArray(I)?I:arguments,function(L,K){delete J[K]})}s(J,2)};e[d]=$.extend(e[d],{add:function(I){var K;function J(M){var L=M[F]=c();M.getState=function(N,O){return N===h||typeof N==="boolean"?m(L,N):m(L,O)[N]};K.apply(this,arguments)}if($.isFunction(I)){K=I;return J}else{K=I.handler;I.handler=J}}})})(jQuery,this);

// jQuery hashchange event - v1.3 - 7/21/2010
// http://benalman.com/projects/jquery-hashchange-plugin/
// Copyright (c) 2010 Ben Alman; Licensed MIT, GPL
(function(c,h,j){function k(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var g,b=c.event.special,e=document.documentMode,l="onhashchange"in h&&(e===j||7<e);c.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};c.fn.hashchange.delay=50;b.hashchange=c.extend(b.hashchange,{setup:function(){if(l)return!1;c(g.start)},teardown:function(){if(l)return!1;c(g.stop)}});var m=function(){var a=k(),b=n(f);a!==f?(p(f=a,b),c(h).trigger("hashchange")):b!==f&&
(location.href=location.href.replace(/#.*/,"")+b);d=setTimeout(m,c.fn.hashchange.delay)},b={},d,f=k(),p=e=function(a){return a},n=e;b.start=function(){d||m()};b.stop=function(){d&&clearTimeout(d);d=j};g=b})(jQuery,this);

// jQuery Easing - v1.3
// http://gsgd.co.uk/sandbox/jquery/easing/
// Copyright (c) 2008 George McGinley Smith; Licensed BSD
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeOutQuint:function(e,a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b}});

// jQuery CORS plugin
// https://github.com/Ovea/cors
// Copyright (c) 2011 Ovea <dev@ovea.com>, Licensed under the Apache License version 2.0
window.XDR_SESSION_COOKIE_NAME=null;window.XDR_DEBUG=jQuery.deparam(window.location.search.substr(1))["debug_xdr"];
(function(b){if("XDomainRequest"in window&&!("__jquery_xdomain__"in b)){b.__jquery_xdomain__=b.support.cors=!0;b.ajaxSetup({cache:!1});var o=/^(((([^:\/#\?]+:)?(?:\/\/((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?]+)(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,p=b.ajaxSettings.xhr,k="XDR_SESSION_COOKIE_NAME"in window?window.XDR_SESSION_COOKIE_NAME:"jsessionid",l="XDR_COOKIE_HEADERS"in window?window.XDR_COOKIE_HEADERS:[],h=window.XDR_DEBUG,m=function(a,d){"string"==typeof a&&
(a=[a]);for(var b=0;b<a.length;b++){var g=RegExp("(?:^|; )"+a[b]+"=([^;]*)","i").exec(document.cookie);(g=g&&g[1])&&d.call(null,a[b],g)}},n=function(a){return"object"===b.type(a)?a:(a=o.exec(a))?{href:a[0]||"",hrefNoHash:a[1]||"",hrefNoSearch:a[2]||"",domain:a[3]||"",protocol:a[4]||"",authority:a[5]||"",username:a[7]||"",password:a[8]||"",host:a[9]||"",hostname:a[10]||"",port:a[11]||"",pathname:a[12]||"",directory:a[13]||"",filename:a[14]||"",search:a[15]||"",hash:a[16]||""}:{}},q=n(document.location.href).domain,
r=function(){var a=this,d=new XDomainRequest,f,g=function(b){a.readyState=b;"function"===typeof a.onreadystatechange&&a.onreadystatechange.call(a)},j=function(i,c){h&&console.log("[XDR] request end in "+(b.now()-a.startTime)/1E3+" seconds with state "+i+" and code "+c+" and data length "+(a.responseText||"").length);a.status=c;if(!a.responseType)if(f=f||d.contentType,f.match(/\/json/))a.responseType="json",a.response=a.responseText;else if(f.match(/\/xml/)){a.responseType="document";var e=new ActiveXObject("Microsoft.XMLDOM");
e.async=!1;e.loadXML(a.responseText);a.responseXML=a.response=e;0!=b(e).children("error").length&&(e=b(e).find("error"),a.status=parseInt(e.attr("response_code")))}else a.responseType="text",a.response=a.responseText;g(i)};d.onprogress=function(){g(3)};d.ontimeout=function(){j(4,408)};d.onerror=function(){j(4,500)};d.onload=function(){h&&console.log("[XDR] raw data:\n"+d.responseText);a.responseText=d.responseText;j(4,200)};this.status=this.readyState=0;this.responseType=this.statusText="";this.timeout=
0;this.withCredentials=!1;this.overrideMimeType=function(a){f=a};this.abort=function(){d.abort()};this.setRequestHeader=function(){};this.open=function(i,c){h&&console.log("[XDR] opening "+c);this.timeout&&(d.timeout=this.timeout);if(k||l.length){var e=c.indexOf("?"),f=function(a,b){c+=(-1==e?"?":"&")+a+"="+encodeURIComponent(b);h&&console.log("[XDR] added parameter "+c)};m(k,function(a,b){-1==e?c+=";"+a+"="+b:(c=c.substring(0,e)+";"+a+"="+b+c.substring(e),e=c.indexOf("?"));h&&console.log("[XDR] added cookie "+
c)});f("_xd","true");m(l,f)}a.startTime=b.now();d.open(i,c);g(1)};this.send=function(a){h&&console.log("[XDR] send");d.send(a)};this.getAllResponseHeaders=function(){return""};this.getResponseHeader=function(){return null}};b.ajaxSettings.xhr=function(){var a=n(this.url).domain;if(""===a||a===q)return p.call(b.ajaxSettings);try{return new r}catch(d){}}}})(jQuery);

// jQuery Throttle - v1.1 - 3/7/2010
// http://benalman.com/projects/jquery-throttle-debounce-plugin/
// Copyright (c) 2010 Ben Alman; Licensed MIT, GPL
(function(b,c){var a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);

// jQuery Deferred Follow - v1.1
(function(c){var d=c.Deferred;c.extend({Deferred:function(e){return c.extend({follow:function(b){var a=this;$.isPlainObject(b)&&b.promise?b.done(function(){a.resolve.apply(a,arguments)}).fail(function(){a.reject.apply(a,arguments)}):a[b?"resolve":"reject"].apply(a,arguments);return a}},d(e))}})})(jQuery);

// XDate Parser for woeful Safari
XDate.parsers.push(function(a){var a=a.match(/([A-Za-z]{3})\s([0-9]{1,2}),?\s([0-9]{4})\s?([0-9]{1,2})?:?([0-9]{2})?\s?([aApP][mM])?/),b="jan feb mar apr may jun jul aug sep oct nov dec".split(" "),c;return a&&7===a.length&&0<=b.indexOf(a[1].toLowerCase())?(c=a[4]?a[4]%12+((a[6]&&"pm"===a[6].toLowerCase())?12:0):0,new XDate(a[3],b.indexOf(a[1].toLowerCase()),a[2],c,a[5]||0,!0)):!1});

// jQuery ScrollTo - v1.4.3.1
// http://flesler.blogspot.com/2007/10/jqueryscrollto.html
// Copyright (c) 2007-2012 Ariel Flesler; Licensed MIT, GPL
;(function($){var h=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};h.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};h.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(e,f,g){if(typeof f=='object'){g=f;f=0}if(typeof g=='function')g={onAfter:g};if(e=='max')e=9e9;g=$.extend({},h.defaults,g);f=f||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=both(g.offset);g.over=both(g.over);return this._scrollable().each(function(){if(e==null)return;var d=this,$elem=$(d),targ=e,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(g.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=h.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(g.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=g.offset[pos]||0;if(g.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*g.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(g.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&g.queue){if(old!=attr[key])animate(g.onAfterFirst);delete attr[key]}});animate(g.onAfter);function animate(a){$elem.animate(attr,f,g.easing,a&&function(){a.call(this,e,g)})}}).end()};h.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);

// Modernizr cssimageset test
// https://gist.github.com/jayeb333/5348595
(function(b){var c=window;c.getComputedStyle?b.testStyles("#modernizr{background-image:"+b._prefixes.join("image-set:(url(//) 1x, url(//) 2x);background-image:").slice(0,-17)+"}",function(a){document.body.appendChild(a);c.getComputedStyle(a).backgroundImage;try{var d=-1<(c.getComputedStyle(a).backgroundImage+"").indexOf("image-set");b.addTest("cssimageset",d);a.parentNode.removeChild(a)}catch(e){}}):b.addTest("cssimageset",!1)})(Modernizr);

// Modernizr csstransitionspseudos test
// https://gist.github.com/jayeb333/5078452
(function(b){function d(a){b.addTest("csstransitionspseudos",a)}var c=window;b.csstransitions&&c.getComputedStyle?b.testStyles("#modernizr:after{content:'';font-size:0;"+b._prefixes.join("transition:2s linear;")+"}#modernizr.m:after{font-size:999px;}",function(a){document.body.appendChild(a);c.getComputedStyle(a,":after").fontSize;a.className+="m";try{d("999px"!==c.getComputedStyle(a,":after").fontSize),a.parentNode.removeChild(a)}catch(b){}}):d(!1)})(Modernizr);

// jQuery transitionDuration
(function($){$.fn.transitionDuration=function(){var d=$(this).css("transitionDuration")||"0s";return (parseFloat(d)*(/ms/.test(d)?1:1000)).toFixed(0)}})(jQuery);